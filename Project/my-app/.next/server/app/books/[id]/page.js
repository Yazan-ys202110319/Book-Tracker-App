(()=>{var e={};e.id=511,e.ids=[511],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9021:e=>{"use strict";e.exports=require("fs")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},6698:e=>{"use strict";e.exports=require("node:async_hooks")},1421:e=>{"use strict";e.exports=require("node:child_process")},7598:e=>{"use strict";e.exports=require("node:crypto")},8474:e=>{"use strict";e.exports=require("node:events")},3024:e=>{"use strict";e.exports=require("node:fs")},1455:e=>{"use strict";e.exports=require("node:fs/promises")},8161:e=>{"use strict";e.exports=require("node:os")},6760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},7066:e=>{"use strict";e.exports=require("node:tty")},7975:e=>{"use strict";e.exports=require("node:util")},9519:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var o=r(260),s=r(8203),n=r(5155),i=r.n(n),a=r(7292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["books",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3469)),"C:\\Users\\yazan\\OneDrive\\Attachments\\Desktop\\Book-Tracker-App\\Book-Tracker-App\\Project\\my-app\\app\\books\\[id]\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2909)),"C:\\Users\\yazan\\OneDrive\\Attachments\\Desktop\\Book-Tracker-App\\Book-Tracker-App\\Project\\my-app\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\yazan\\OneDrive\\Attachments\\Desktop\\Book-Tracker-App\\Book-Tracker-App\\Project\\my-app\\app\\books\\[id]\\page.jsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/books/[id]/page",pathname:"/books/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9890:(e,t,r)=>{Promise.resolve().then(r.bind(r,6086)),Promise.resolve().then(r.t.bind(r,9607,23))},3098:(e,t,r)=>{Promise.resolve().then(r.bind(r,5842)),Promise.resolve().then(r.t.bind(r,8531,23))},7942:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},1150:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},5510:()=>{},7134:()=>{},5842:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var o=r(5512),s=r(8009);function n({book:e}){let[t,r]=(0,s.useState)(!1),[n,i]=(0,s.useState)(e.name),[a,l]=(0,s.useState)(e.author),[d,c]=(0,s.useState)(e.description||""),[p,u]=(0,s.useState)(!1);async function m(t){t.preventDefault();try{let t=await fetch(`/api/books/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,author:a,description:d}),cache:"no-store"});if(t.ok)r(!1),window.location.reload();else{let e=await t.json();alert(`Failed to update book: ${e.error||"Unknown error"}`)}}catch(e){console.error("Failed to update book:",e),alert(`Error: ${e.message}`)}}async function h(){if(confirm("Are you sure you want to delete this book?")){u(!0);try{let t=await fetch(`/api/books/${e.id}`,{method:"DELETE",cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(t.ok){let e=new Date().getTime();window.location.href=`/?t=${e}`}else{let e=await t.json();alert(`Failed to delete book: ${e.error||"Unknown error"}`),u(!1)}}catch(e){console.error("Error deleting book:",e),alert(`Error: ${e.message}`),u(!1)}}}return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsxs)("form",{onSubmit:m,className:"space-y-4 mt-8 pt-6 border-t border-gray-200",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Edit Book"}),(0,o.jsx)("input",{className:"w-full text-black p-2 border rounded",value:n,onChange:e=>i(e.target.value),placeholder:"Book Title"}),(0,o.jsx)("input",{className:"w-full text-black p-2 border rounded",value:a,onChange:e=>l(e.target.value),placeholder:"Author"}),(0,o.jsx)("textarea",{className:"w-full text-black p-2 border rounded",value:d,onChange:e=>c(e.target.value),rows:4,placeholder:"Description"}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"Save Changes"}),(0,o.jsx)("button",{type:"button",className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded",onClick:()=>r(!1),children:"Cancel"})]})]}):(0,o.jsxs)("div",{className:"flex gap-3 pt-6",children:[(0,o.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",onClick:()=>r(!0),children:"Edit Book"}),(0,o.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md",onClick:h,disabled:p,children:p?"Deleting...":"Delete Book"})]})})}},6086:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});let o=(0,r(4379).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\yazan\\\\OneDrive\\\\Attachments\\\\Desktop\\\\Book-Tracker-App\\\\Book-Tracker-App\\\\Project\\\\my-app\\\\app\\\\books\\\\[id]\\\\BookClient.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\yazan\\OneDrive\\Attachments\\Desktop\\Book-Tracker-App\\Book-Tracker-App\\Project\\my-app\\app\\books\\[id]\\BookClient.jsx","default")},3469:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var o=r(2740),s=r(9607),n=r.n(s),i=r(7520),a=r(6086),l=r(6301);let d=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),p=e=>{let t=c(e);return t.charAt(0).toUpperCase()+t.slice(1)},u=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),m=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let x=(0,l.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:s="",children:n,iconNode:i,...a},d)=>(0,l.createElement)("svg",{ref:d,...h,width:t,height:t,stroke:e,strokeWidth:o?24*Number(r)/Number(t):r,className:u("lucide",s),...!n&&!m(a)&&{"aria-hidden":"true"},...a},[...i.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(n)?n:[n]])),f=((e,t)=>{let r=(0,l.forwardRef)(({className:r,...o},s)=>(0,l.createElement)(x,{ref:s,iconNode:t,className:u(`lucide-${d(p(e))}`,`lucide-${e}`,r),...o}));return r.displayName=p(e),r})("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);async function b({params:e}){let t=await i.A.book.findUnique({where:{id:e.id}});return t?(0,o.jsx)("div",{className:"min-h-screen bg-gray-90 py-8 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,o.jsx)("header",{className:"mb-8",children:(0,o.jsx)(n(),{href:"/",children:(0,o.jsxs)("button",{className:"bg-indigo-600 hover:bg-indigo-700 gap-2 text-white font-medium py-2 px-4 rounded-md flex items-center transition-colors",children:[(0,o.jsx)(f,{}),"Back to Library"]})})}),(0,o.jsx)("main",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:(0,o.jsxs)("div",{className:"p-6 sm:p-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:t.name}),(0,o.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("span",{className:"text-gray-500 w-32",children:"Author:"}),(0,o.jsx)("span",{className:"text-gray-900 font-medium",children:t.author})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("span",{className:"text-gray-500 w-32",children:"Status:"}),(0,o.jsx)("span",{className:"text-gray-900 font-medium",children:t.status})]}),t.description&&(0,o.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),(0,o.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.description})]})]}),(0,o.jsx)(a.default,{book:t})]})})]})}):(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Book not found"})}},2909:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>s});var o=r(2740);r(2704);let s={title:"Create Next App",description:"Generated by create next app"};function n({children:e}){return(0,o.jsx)("html",{lang:"en",children:(0,o.jsx)("body",{className:"flex flex-col",children:e})})}},2828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return s},extractInterceptionRouteInformation:function(){return i},isInterceptionRouteAppPath:function(){return n}});let o=r(2045),s=["(..)(..)","(.)","(..)","(...)"];function n(e){return void 0!==e.split("/").find(e=>s.find(t=>e.startsWith(t)))}function i(e){let t,r,n;for(let o of e.split("/"))if(r=s.find(e=>o.startsWith(e))){[t,n]=e.split(r,2);break}if(!t||!r||!n)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,o.normalizeAppPath)(t),r){case"(.)":n="/"===t?`/${n}`:t+"/"+n;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let i=t.split("/");if(i.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);n=i.slice(0,-2).concat(n).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:n}}},164:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},2045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return n},normalizeRscURL:function(){return i}});let o=r(164),s=r(8758);function n(e){return(0,o.ensureLeadingSlash)(e.split("/").reduce((e,t,r,o)=>!t||(0,s.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===o.length-1?e:e+"/"+t,""))}function i(e){return e.replace(/\.rsc($|\?)/,"$1")}},7520:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=new(r(3104)).PrismaClient},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(8077);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},2704:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,403,217,104],()=>r(9519));module.exports=o})();